<extend name="Public/base"/>

<block name="section-content">
    <section class="content">
        <div class="row">
            <div class="col-xs-10">
                <div class="box box-info">
                    <form action="{:U('Role/store')}" method="post" class="form-horizontal">
                        <input type="hidden" name="roleid" value="<if condition='$roleinfo'>{$roleinfo.roleid}</if>">
                        <div class="box-body">
                            <div class="form-group">
                                <label for="" class="col-sm-2 control-label">用户组</label>
                                <div class="col-sm-5">
                                    <input class="form-control" type="text" name="username" placeholder="用户组" value="<if condition='$roleinfo'>{$roleinfo.rolename}</if>">
                                </div>
                                <div class="col-sm-offset-5"></div>
                            </div>
                            <div class="form-group">
                                <label for="" class="col-sm-2 control-label">是否禁用</label>
                                <div class="col-sm-3 col-sm-offset-1">
                                    <label for="form_lock">
                                        <div class="checkbox">
                                            <label for="form_lock"><input id="form_lock" type="checkbox" name="lock" value="1">是</label>
                                        </div>
                                    </label>
                                </div>
                                <div class="col-sm-offset-5"></div>
                            </div>
                            <div class="form-group">
                                <label for="" class="col-sm-2 control-label">权限分配</label>
                                <div class="col-sm-10">
                                    <div class="access">
                                        <foreach name="access" item="vo">
                                            <div class="checkbox">
                                                <label class="checkbox-label"><input type="checkbox" name="access[]" value="{$vo.pid}_{$vo.accessid}"
                                                    <if condition="in_array($vo['accessid'], $roleaccess)">checked</if>
                                                >{$vo.title}</label>
                                            </div>
                                            <notempty name="vo['_child']">
                                            <div style="padding-left: 25px;margin-top: 10px;">
                                                <foreach name="vo._child" item="vo1">
                                                    <div class="checkbox">
                                                        <label class="checkbox-label"> <input type="checkbox" name="access[]" value="{$vo1.pid}_{$vo1.accessid}"
                                                            <if condition="in_array($vo1['accessid'], $roleaccess)">checked</if>
                                                        >{$vo1.title}</label>
                                                    </div>
                                                    <notempty name="vo1['_child']">
                                                        <div style="padding-left: 25px;margin-top: 10px;">
                                                            <foreach name="vo1._child" item="vo2">
                                                                <div class="checkbox">
                                                                    <label class="checkbox-label"><input type="checkbox" name="access[]" value="{$vo2.pid}_{$vo2.accessid}"
                                                                        <if condition="in_array($vo2['accessid'], $roleaccess)">checked</if>
                                                                    >{$vo2.title}</label>
                                                                </div>
                                                            </foreach>
                                                        </div>
                                                    </notempty>
                                                </foreach>
                                            </div>
                                            </notempty>
                                        </foreach>
                                    </div>
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="" class="col-sm-2 control-label"></label>
                                <div class="col-sm-5 btn-wrap-center">
                                    <button type="submit" class="btn btn-primary">提交</button>
                                    <a class="btn btn-default">取消</a>
                                </div>
                                <div class="col-sm-offset-5"></div>
                            </div>
                        </div><!-- box-body end -->
                    </form>
                </div>
            </div>
        </div>
    </section>
</block>